<!doctype html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><title>collections</title><meta name="generator" content="CherryTree"></head><body><table width="100%"><tr><td valign="top" align=cons.TAG_PROP_LEFT width=20%><table style="text-align:left; font-family: Sans; font-size:11pt"><tr><td>&nbsp;&nbsp;&nbsp;<img src="images/cherry_red.png" alt="images/cherry_red.png" height="22" width="22"/><a href="C++.html">1 C++</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="C++--tips.html">1.1 tips</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="C++--FAQ.html">1.2 FAQ</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="C++--todo.html">1.3 todo</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="C++--others.html">1.4 others</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="C++--vobile 常用.html">1.5 vobile 常用</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="C++--snippet.html">1.6 snippet</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_black.png" alt="images/cherry_black.png" height="22" width="22"/><a href="C++--Modern C++ .html">1.7 Modern C++ </a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_black.png" alt="images/cherry_black.png" height="22" width="22"/><a href="C++--bak.html">1.8 bak</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;<img src="images/cherry_red.png" alt="images/cherry_red.png" height="22" width="22"/><a href="go.html">2 go</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="go--nsq-notes.html">2.1 nsq-notes</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="go--go_tips.html">2.2 go_tips</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;<img src="images/cherry_red.png" alt="images/cherry_red.png" height="22" width="22"/><a href="Q&A.html">3 Q&A</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;<img src="images/cherry_red.png" alt="images/cherry_red.png" height="22" width="22"/><a href="kernel.html">4 kernel</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;<img src="images/cherry_red.png" alt="images/cherry_red.png" height="22" width="22"/><a href="ffmpeg.html">5 ffmpeg</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="ffmpeg--ffmpeg SDK.html">5.1 ffmpeg SDK</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="ffmpeg--ffmpeg.html">5.2 ffmpeg</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;<img src="images/cherry_red.png" alt="images/cherry_red.png" height="22" width="22"/><a href="python.html">6 python</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="python--tips.html">6.1 tips</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_green.png" alt="images/cherry_green.png" height="22" width="22"/><a href="python--collections.html">6.2 collections</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="python--oneline.html">6.3 oneline</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;<img src="images/cherry_red.png" alt="images/cherry_red.png" height="22" width="22"/><a href="Lua.html">7 Lua</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="Lua--tips.html">7.1 tips</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;<img src="images/cherry_red.png" alt="images/cherry_red.png" height="22" width="22"/><a href="Linux.html">8 Linux</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="Linux--shell.html">8.1 shell</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="Linux--collections.html">8.2 collections</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="Linux--screen.html">8.3 screen</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="Linux--core文件设置.html">8.4 core文件设置</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="Linux--Linux 常用.html">8.5 Linux 常用</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_orange.png" alt="images/cherry_orange.png" height="22" width="22"/><a href="Linux--Linux 常用--screen.html">8.5.1 screen</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_orange.png" alt="images/cherry_orange.png" height="22" width="22"/><a href="Linux--Linux 常用--core文件设置.html">8.5.2 core文件设置</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_purple.png" alt="images/cherry_purple.png" height="22" width="22"/><a href="Linux--sed.html">8.6 sed</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;<img src="images/cherry_red.png" alt="images/cherry_red.png" height="22" width="22"/><a href="gdb.html">9 gdb</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;<img src="images/cherry_red.png" alt="images/cherry_red.png" height="22" width="22"/><a href="tools.html">10 tools</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;<img src="images/cherry_red.png" alt="images/cherry_red.png" height="22" width="22"/><a href="vim.html">11 vim</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="vim--vim常用 .html">11.1 vim常用 </a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;<img src="images/cherry_red.png" alt="images/cherry_red.png" height="22" width="22"/><a href="vobile.html">12 vobile</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="vobile--vobile 常用.html">12.1 vobile 常用</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="vobile--work.html">12.2 work</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;<img src="images/cherry_red.png" alt="images/cherry_red.png" height="22" width="22"/><a href="Myself.html">13 Myself</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="Myself--TOREAD.html">13.1 TOREAD</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="Myself--music.html">13.2 music</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="Myself--todo.html">13.3 todo</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="Myself--work.html">13.4 work</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="Myself--HZ.html">13.5 HZ</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;<img src="images/cherry_red.png" alt="images/cherry_red.png" height="22" width="22"/><a href="opencv.html">14 opencv</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="opencv--CvArr、Mat、CvMat、IplImage、BYTE转换  .html">14.1 CvArr、Mat、CvMat、IplImage、BYTE转换  </a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="opencv--resize.html">14.2 resize</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;<img src="images/cherry_red.png" alt="images/cherry_red.png" height="22" width="22"/><a href="work.html">15 work</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="work--TODO.html">15.1 TODO</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="work--OCR.html">15.2 OCR</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="work--todo.html">15.3 todo</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_gray.png" alt="images/cherry_gray.png" height="22" width="22"/><a href="work--sql.html">15.4 sql</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;<img src="images/cherry_red.png" alt="images/cherry_red.png" height="22" width="22"/><a href="CNTV.html">16 CNTV</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;<img src="images/cherry_red.png" alt="images/cherry_red.png" height="22" width="22"/><a href="Mysql.html">17 Mysql</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;<img src="images/cherry_red.png" alt="images/cherry_red.png" height="22" width="22"/><a href="git.html">18 git</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;<img src="images/cherry_red.png" alt="images/cherry_red.png" height="22" width="22"/><a href="others.html">19 others</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;<img src="images/cherry_purple.png" alt="images/cherry_purple.png" height="22" width="22"/><a href="gnuplot.html">20 gnuplot</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;<img src="images/cherry_red.png" alt="images/cherry_red.png" height="22" width="22"/><a href="todo.html">21 todo</a></td></tr></table><td valign="top" align=cons.TAG_PROP_LEFT width=80%><span style="font-family: Monospace; font-size:12pt"><span style="color:#ff0044;font-weight:400">1.</span>&nbsp;python&nbsp;生成&nbsp;随机字符串:<br><span style="color:#cccccc;font-weight:400">import</span>&nbsp;random<br><span style="color:#cccccc;font-weight:400">import</span>&nbsp;string<br>salt&nbsp;=&nbsp;<span style="color:#3ad900;font-weight:400">''</span>.join(random.sample(string.ascii_letters+string.digits,&nbsp;<span style="color:#ff0044;font-weight:400">8</span>))<br><span style="color:#ff0044;font-weight:400">2.</span>&nbsp;unix&nbsp;get&nbsp;disk&nbsp;space&nbsp;info<br><span style="color:#cccccc;font-weight:400">import</span>&nbsp;os<br><span style="color:#cccccc;font-weight:400">from</span>&nbsp;collections<br><span style="color:#cccccc;font-weight:400">import</span>&nbsp;namedtuple&nbsp;<br>_ntuple_diskusage&nbsp;=&nbsp;namedtuple(<span style="color:#3ad900;font-weight:400">'usage'</span>,<span style="color:#3ad900;font-weight:400">'total&nbsp;used&nbsp;free'</span>)&nbsp;<br><span style="color:#ff9d00;font-weight:700">def</span>&nbsp;disk_usage(path):&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">"""Return&nbsp;disk&nbsp;usage&nbsp;statistics&nbsp;about&nbsp;the&nbsp;given&nbsp;path.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;Returned&nbsp;valus&nbsp;is&nbsp;a&nbsp;named&nbsp;tuple&nbsp;with&nbsp;attributes&nbsp;'total',&nbsp;'used'&nbsp;and&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;'free',&nbsp;which&nbsp;are&nbsp;the&nbsp;amount&nbsp;of&nbsp;total,&nbsp;used&nbsp;and&nbsp;free&nbsp;space,&nbsp;in&nbsp;bytes.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;"""</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;st=os.statvfs(path)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;free=st.f_bavail*st.f_frsize&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;total=st.f_blocks*st.f_frsize&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;used=(st.f_blocks-st.f_bfree)*st.f_frsize&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><span style="color:#ff9d00;font-weight:700">return</span>&nbsp;_ntuple_diskusage(total,used,free)<br><br><span style="color:#ff0044;font-weight:400">3.</span>&nbsp;<span style="color:#ff9d00;font-weight:700">dict</span>&nbsp;<span style="color:#ff9d00;font-weight:700">and</span>&nbsp;<span style="color:#ff9d00;font-weight:700">list</span> <br>Python&nbsp; 中的字典使用了hast，因此，在查找中需要遍历整个list的情况，最好把list转为dict<br><br><span style="color:#cccccc;font-weight:400">from</span>&nbsp;time&nbsp;<span style="color:#cccccc;font-weight:400">import</span>&nbsp;time<br>t=time()<br><span style="color:#ff9d00;font-weight:700">list</span>=[<span style="color:#3ad900;font-weight:400">'a'</span>,<span style="color:#3ad900;font-weight:400">'b'</span>,<span style="color:#3ad900;font-weight:400">'is'</span>,<span style="color:#3ad900;font-weight:400">'python'</span>,<span style="color:#3ad900;font-weight:400">'jason'</span>,<span style="color:#3ad900;font-weight:400">'hello'</span>,<span style="color:#3ad900;font-weight:400">'hill'</span>,<span style="color:#3ad900;font-weight:400">'with'</span>,<span style="color:#3ad900;font-weight:400">'phone'</span>,<span style="color:#3ad900;font-weight:400">'test'</span>,<br><span style="color:#3ad900;font-weight:400">'dfdf'</span>,<span style="color:#3ad900;font-weight:400">'apple'</span>,<span style="color:#3ad900;font-weight:400">'pddf'</span>,<span style="color:#3ad900;font-weight:400">'ind'</span>,<span style="color:#3ad900;font-weight:400">'basic'</span>,<span style="color:#3ad900;font-weight:400">'none'</span>,<span style="color:#3ad900;font-weight:400">'baecr'</span>,<span style="color:#3ad900;font-weight:400">'var'</span>,<span style="color:#3ad900;font-weight:400">'bana'</span>,<span style="color:#3ad900;font-weight:400">'dd'</span>,<span style="color:#3ad900;font-weight:400">'wrd'</span>]<br>&nbsp;<span style="color:#0088ff;font-weight:400">#list&nbsp;=&nbsp;dict.fromkeys(list,True)</span><br>printlist<br><span style="color:#ff9d00;font-weight:700">filter</span>=[]<br>&nbsp;foriinrange(<span style="color:#ff0044;font-weight:400">1000000</span>):<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;forfindin[<span style="color:#3ad900;font-weight:400">'is'</span>,<span style="color:#3ad900;font-weight:400">'hat'</span>,<span style="color:#3ad900;font-weight:400">'new'</span>,<span style="color:#3ad900;font-weight:400">'list'</span>,<span style="color:#3ad900;font-weight:400">'old'</span>,<span style="color:#3ad900;font-weight:400">'.'</span>]:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iffindnotinlist:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff9d00;font-weight:700">filter</span>.append(find)<br>&nbsp;<span style="color:#ff9d00;font-weight:700">print</span><span style="color:#3ad900;font-weight:400">"total&nbsp;run&nbsp;time:"</span><br>&nbsp;printtime()-t<br>&nbsp;<br>&nbsp;<br>&nbsp;4.使用set求交集<br>&nbsp;<br>&nbsp;fromtimeimporttime<br>&nbsp;t=time()<br>&nbsp;lista=[<span style="color:#ff0044;font-weight:400">1</span>,<span style="color:#ff0044;font-weight:400">2</span>,<span style="color:#ff0044;font-weight:400">3</span>,<span style="color:#ff0044;font-weight:400">4</span>,<span style="color:#ff0044;font-weight:400">5</span>,<span style="color:#ff0044;font-weight:400">6</span>,<span style="color:#ff0044;font-weight:400">7</span>,<span style="color:#ff0044;font-weight:400">8</span>,<span style="color:#ff0044;font-weight:400">9</span>,<span style="color:#ff0044;font-weight:400">13</span>,<span style="color:#ff0044;font-weight:400">34</span>,<span style="color:#ff0044;font-weight:400">53</span>,<span style="color:#ff0044;font-weight:400">42</span>,<span style="color:#ff0044;font-weight:400">44</span>]<br>&nbsp;listb=[<span style="color:#ff0044;font-weight:400">2</span>,<span style="color:#ff0044;font-weight:400">4</span>,<span style="color:#ff0044;font-weight:400">6</span>,<span style="color:#ff0044;font-weight:400">9</span>,<span style="color:#ff0044;font-weight:400">23</span>]<br>&nbsp;intersection=[]<br>&nbsp;foriinrange(<span style="color:#ff0044;font-weight:400">1000000</span>):<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff9d00;font-weight:700">list</span>(<span style="color:#ff9d00;font-weight:700">set</span>(lista)&amp;<span style="color:#ff9d00;font-weight:700">set</span>(listb))<br>&nbsp;<span style="color:#ff9d00;font-weight:700">print</span><span style="color:#3ad900;font-weight:400">"total&nbsp;run&nbsp;time:"</span><br>&nbsp;printtime()-t<br>&nbsp;<br>&nbsp;5.对循环的优化<br>尽量把循环中的计算放到上一层中，用xrange代替range<br><br>7.充分利用&nbsp;Lazy&nbsp;<span style="color:#ff9d00;font-weight:700">if</span>-evaluation&nbsp;的特性<br>8.字符串的优化<br>a。字符串的连接尽量使用join而不是‘+’，<br> &nbsp; &nbsp; 同时尽量使用&nbsp; <br>        slit&nbsp;=&nbsp;[func(e)&nbsp;<span style="color:#ff9d00;font-weight:700">for</span>&nbsp;e&nbsp;<span style="color:#ff9d00;font-weight:700">in</span>&nbsp;elist]<br><br> &nbsp; &nbsp; &nbsp; &nbsp;x&nbsp;=&nbsp;<span style="color:#3ad900;font-weight:400">""</span>.join(slit)<br>当对字符串可以使用正则表达式或者内置函数来处理的时候，选择内置函数。如&nbsp;<span style="color:#ff9d00;font-weight:700">str</span>.isalpha()，<span style="color:#ff9d00;font-weight:700">str</span>.isdigit()，<span style="color:#ff9d00;font-weight:700">str</span>.startswith((‘x’,&nbsp;‘yz’))，<span style="color:#ff9d00;font-weight:700">str</span>.endswith((‘x’,&nbsp;‘yz’))<br><br>对字符进行格式化比直接串联读取要快，因此要使用<br><br>out=<span style="color:#3ad900;font-weight:400">"%s%s%s%s"</span>%(head,&nbsp;prologue,&nbsp;query,&nbsp;tail)<br><br><br><span style="color:#ff0044;font-weight:400">9</span>,使用列表解析和生成器表达式<br>a=[i&nbsp;<span style="color:#ff9d00;font-weight:700">for</span>&nbsp;i&nbsp;<span style="color:#ff9d00;font-weight:700">in</span>&nbsp;<span style="color:#ff9d00;font-weight:700">list</span>]&nbsp; &nbsp;g&nbsp;=&nbsp;(i&nbsp;<span style="color:#ff9d00;font-weight:700">for</span>&nbsp;i&nbsp;<span style="color:#ff9d00;font-weight:700">in</span>&nbsp;<span style="color:#ff9d00;font-weight:700">list</span>)<br><span style="color:#ff0044;font-weight:400">10</span>&nbsp;<span style="color:#ff9d00;font-weight:700">if</span>&nbsp;done&nbsp;<span style="color:#ff9d00;font-weight:700">is</span>&nbsp;<span style="color:#ff9d00;font-weight:700">not</span>&nbsp;<span style="color:#ff0044;font-weight:700">None</span>&nbsp;比语句&nbsp;<span style="color:#ff9d00;font-weight:700">if</span>&nbsp;done&nbsp;!=&nbsp;<span style="color:#ff0044;font-weight:700">None</span>&nbsp;更快<br><br><br><br>[i&nbsp;<span style="color:#ff9d00;font-weight:700">for</span>&nbsp;i&nbsp;<span style="color:#ff9d00;font-weight:700">in</span>&nbsp;<span style="color:#ff9d00;font-weight:700">enumerate</span>(l)]<br>&nbsp;[(<span style="color:#ff0044;font-weight:400">0</span>,&nbsp;<span style="color:#3ad900;font-weight:400">'a'</span>),&nbsp;(<span style="color:#ff0044;font-weight:400">1</span>,&nbsp;<span style="color:#3ad900;font-weight:400">'b'</span>),&nbsp;(<span style="color:#ff0044;font-weight:400">2</span>,&nbsp;<span style="color:#3ad900;font-weight:400">'c'</span>),&nbsp;(<span style="color:#ff0044;font-weight:400">3</span>,&nbsp;<span style="color:#3ad900;font-weight:400">'d'</span>)]<br>&nbsp;<br>&nbsp;<br>&nbsp;<span style="color:#cccccc;font-weight:400">from</span>&nbsp;collections&nbsp;<span style="color:#cccccc;font-weight:400">import</span>&nbsp;Counter<br>&nbsp;<br>li&nbsp;=&nbsp;[<span style="color:#3ad900;font-weight:400">"Dog"</span>,&nbsp;<span style="color:#3ad900;font-weight:400">"Cat"</span>,&nbsp;<span style="color:#3ad900;font-weight:400">"Mouse"</span>,<span style="color:#3ad900;font-weight:400">"Dog"</span>,<span style="color:#3ad900;font-weight:400">"Cat"</span>,&nbsp;<span style="color:#3ad900;font-weight:400">"Dog"</span>]<br>a&nbsp;=&nbsp;Counter(li)<br>&nbsp;<br><span style="color:#ff9d00;font-weight:700">print</span>&nbsp;a&nbsp;<span style="color:#0088ff;font-weight:400">#&nbsp;Counter({'Dog':&nbsp;3,&nbsp;'Cat':&nbsp;2,&nbsp;'Mouse':&nbsp;1})</span><br>&nbsp;<br><span style="color:#ff9d00;font-weight:700">print</span>&nbsp;<span style="color:#3ad900;font-weight:400">"{0}&nbsp;:&nbsp;{1}"</span>.format(a.values(),a.keys())&nbsp;&nbsp;<span style="color:#0088ff;font-weight:400">#&nbsp;[1,&nbsp;3,&nbsp;2]&nbsp;:&nbsp;['Mouse',&nbsp;'Dog',&nbsp;'Cat']</span><br>&nbsp;<br><span style="color:#ff9d00;font-weight:700">print</span>(a.most_common(<span style="color:#ff0044;font-weight:400">3</span>))&nbsp;<span style="color:#0088ff;font-weight:400">#&nbsp;[('Dog',&nbsp;3),&nbsp;('Cat',&nbsp;2),&nbsp;('Mouse',&nbsp;1)]</span><br><br><br><span style="color:#cccccc;font-weight:400">from</span>&nbsp;collections&nbsp;<span style="color:#cccccc;font-weight:400">import</span>&nbsp;defaultdict<br>&nbsp;<br>s&nbsp;=&nbsp;<span style="color:#3ad900;font-weight:400">"the&nbsp;quick&nbsp;brown&nbsp;fox&nbsp;jumps&nbsp;over&nbsp;the&nbsp;lazy&nbsp;dog"</span><br>&nbsp;<br>words&nbsp;=&nbsp;s.split()<br>location&nbsp;=&nbsp;defaultdict(<span style="color:#ff9d00;font-weight:700">list</span>)<br><span style="color:#ff9d00;font-weight:700">for</span>&nbsp;m,&nbsp;n&nbsp;<span style="color:#ff9d00;font-weight:700">in</span>&nbsp;<span style="color:#ff9d00;font-weight:700">enumerate</span>(words):<br>&nbsp;&nbsp;&nbsp;&nbsp;location[n].append(m)<br>&nbsp;<br><span style="color:#ff9d00;font-weight:700">print</span>&nbsp;location<br>&nbsp;<br><span style="color:#0088ff;font-weight:400">#&nbsp;defaultdict(&lt;type&nbsp;'list'&gt;,&nbsp;{'brown':&nbsp;[2],&nbsp;'lazy':&nbsp;[7],&nbsp;'over':&nbsp;[5],&nbsp;'fox':&nbsp;[3],</span><br><span style="color:#0088ff;font-weight:400">#&nbsp;'dog':&nbsp;[8],&nbsp;'quick':&nbsp;[1],&nbsp;'the':&nbsp;[0,&nbsp;6],&nbsp;'jumps':&nbsp;[4]})</span></span></td></tr></table></body></html>