<!doctype html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><title>sed</title><meta name="generator" content="CherryTree"></head><body><table width="100%"><tr><td valign="top" align=cons.TAG_PROP_LEFT width=20%><table style="text-align:left; font-family: Sans; font-size:11pt"><tr><td>&nbsp;&nbsp;&nbsp;<img src="images/cherry_red.png" alt="images/cherry_red.png" height="22" width="22"/><a href="C++.html">1 C++</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="C++--tips.html">1.1 tips</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="C++--FAQ.html">1.2 FAQ</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="C++--todo.html">1.3 todo</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="C++--others.html">1.4 others</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="C++--work 常用.html">1.5 work 常用</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="C++--snippet.html">1.6 snippet</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_black.png" alt="images/cherry_black.png" height="22" width="22"/><a href="C++--Modern C++ .html">1.7 Modern C++ </a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_black.png" alt="images/cherry_black.png" height="22" width="22"/><a href="C++--bak.html">1.8 bak</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;<img src="images/cherry_red.png" alt="images/cherry_red.png" height="22" width="22"/><a href="go.html">2 go</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="go--nsq-notes.html">2.1 nsq-notes</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="go--go_tips.html">2.2 go_tips</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;<img src="images/cherry_red.png" alt="images/cherry_red.png" height="22" width="22"/><a href="Q&A.html">3 Q&A</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;<img src="images/cherry_red.png" alt="images/cherry_red.png" height="22" width="22"/><a href="kernel.html">4 kernel</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;<img src="images/cherry_red.png" alt="images/cherry_red.png" height="22" width="22"/><a href="ffmpeg.html">5 ffmpeg</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="ffmpeg--ffmpeg SDK.html">5.1 ffmpeg SDK</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="ffmpeg--ffmpeg.html">5.2 ffmpeg</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;<img src="images/cherry_red.png" alt="images/cherry_red.png" height="22" width="22"/><a href="python.html">6 python</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="python--tips.html">6.1 tips</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_green.png" alt="images/cherry_green.png" height="22" width="22"/><a href="python--collections.html">6.2 collections</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="python--oneline.html">6.3 oneline</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;<img src="images/cherry_red.png" alt="images/cherry_red.png" height="22" width="22"/><a href="Lua.html">7 Lua</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="Lua--tips.html">7.1 tips</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;<img src="images/cherry_red.png" alt="images/cherry_red.png" height="22" width="22"/><a href="Linux.html">8 Linux</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="Linux--shell.html">8.1 shell</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="Linux--collections.html">8.2 collections</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="Linux--screen.html">8.3 screen</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="Linux--core文件设置.html">8.4 core文件设置</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="Linux--Linux 常用.html">8.5 Linux 常用</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_orange.png" alt="images/cherry_orange.png" height="22" width="22"/><a href="Linux--Linux 常用--screen.html">8.5.1 screen</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_orange.png" alt="images/cherry_orange.png" height="22" width="22"/><a href="Linux--Linux 常用--core文件设置.html">8.5.2 core文件设置</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_purple.png" alt="images/cherry_purple.png" height="22" width="22"/><a href="Linux--sed.html">8.6 sed</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;<img src="images/cherry_red.png" alt="images/cherry_red.png" height="22" width="22"/><a href="gdb.html">9 gdb</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;<img src="images/cherry_red.png" alt="images/cherry_red.png" height="22" width="22"/><a href="tools.html">10 tools</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;<img src="images/cherry_red.png" alt="images/cherry_red.png" height="22" width="22"/><a href="vim.html">11 vim</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="vim--vim常用 .html">11.1 vim常用 </a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;<img src="images/cherry_red.png" alt="images/cherry_red.png" height="22" width="22"/><a href="work.html">12 work</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="work--work 常用.html">12.1 work 常用</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="work--work.html">12.2 work</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;<img src="images/cherry_red.png" alt="images/cherry_red.png" height="22" width="22"/><a href="Myself.html">13 Myself</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="Myself--TOREAD.html">13.1 TOREAD</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="Myself--music.html">13.2 music</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="Myself--todo.html">13.3 todo</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="Myself--work.html">13.4 work</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="Myself--HZ.html">13.5 HZ</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;<img src="images/cherry_red.png" alt="images/cherry_red.png" height="22" width="22"/><a href="opencv.html">14 opencv</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="opencv--CvArr、Mat、CvMat、IplImage、BYTE转换  .html">14.1 CvArr、Mat、CvMat、IplImage、BYTE转换  </a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="opencv--resize.html">14.2 resize</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;<img src="images/cherry_red.png" alt="images/cherry_red.png" height="22" width="22"/><a href="work.html">15 work</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="work--TODO.html">15.1 TODO</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="work--OCR.html">15.2 OCR</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_blue.png" alt="images/cherry_blue.png" height="22" width="22"/><a href="work--todo.html">15.3 todo</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/cherry_gray.png" alt="images/cherry_gray.png" height="22" width="22"/><a href="work--sql.html">15.4 sql</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;<img src="images/cherry_red.png" alt="images/cherry_red.png" height="22" width="22"/><a href="CNTV.html">16 CNTV</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;<img src="images/cherry_red.png" alt="images/cherry_red.png" height="22" width="22"/><a href="Mysql.html">17 Mysql</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;<img src="images/cherry_red.png" alt="images/cherry_red.png" height="22" width="22"/><a href="git.html">18 git</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;<img src="images/cherry_red.png" alt="images/cherry_red.png" height="22" width="22"/><a href="others.html">19 others</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;<img src="images/cherry_purple.png" alt="images/cherry_purple.png" height="22" width="22"/><a href="gnuplot.html">20 gnuplot</a></td></tr><tr><td>&nbsp;&nbsp;&nbsp;<img src="images/cherry_red.png" alt="images/cherry_red.png" height="22" width="22"/><a href="todo.html">21 todo</a></td></tr></table><td valign="top" align=cons.TAG_PROP_LEFT width=80%><span style="font-family: Monospace; font-size:12pt"><span style="color:#ff9d00;font-weight:700">sed</span>&nbsp;的一些命令<br><br>+&nbsp;<span style="color:#ff9d00;font-weight:700">:</span>：<span style="color:#ff9d00;font-weight:700">:</span>label，标志一个label，用于b<span style="color:#ff9d00;font-weight:700">/</span>t的跳转<br>+&nbsp;=：[address]=&nbsp;打印出行号<br>+&nbsp;a：[address]a<span style="color:#cccccc;font-weight:400">\&nbsp;</span>append&nbsp;text&nbsp;to&nbsp;this&nbsp;line.<br>+&nbsp;b：[address[,address]]b[label]&nbsp;条件分支语句<br>+&nbsp;c：[address[,address]]c<span style="color:#cccccc;font-weight:400">\&nbsp;</span>替换内容<br>+&nbsp;d：[address[,address]]d&nbsp;删除pattern中的所有行，并读入下一新行到pattern中<br>+&nbsp;D：[address[,address]]D&nbsp;删除multiline&nbsp;pattern中的第一行，不读入下一行<br>+&nbsp;g：[address[,address]]g&nbsp;将hold&nbsp;space中的内容拷贝到pattern&nbsp;space中，原来pattern&nbsp;space里的内容清除<br>+&nbsp;G：[address[,address]]G&nbsp;将hold&nbsp;space中的内容append到pattern&nbsp;space<span style="color:#cccccc;font-weight:400">\n</span>后<br>+&nbsp;h：[address[,address]]h&nbsp;将pattern&nbsp;space中的内容拷贝到hold&nbsp;space中，原来的hold&nbsp;space里的内容被清除<br>+&nbsp;H：[address[,address]]H&nbsp;将pattern&nbsp;space中的内容append到hold&nbsp;space<span style="color:#cccccc;font-weight:400">\n</span>后<br>+&nbsp;i：[address]i<span style="color:#cccccc;font-weight:400">\&nbsp;</span>在address行的前面插入文字，和a反义<br>+&nbsp;l：[address[,address]]l&nbsp;打印pattern&nbsp;space中的内容，不可打印字符打印出ascii<br>+&nbsp;n：[address[,address]]n&nbsp;输出pattern&nbsp;space中的内容，读入下一新行替换掉原来的行<br>+&nbsp;N：[address[,address]]N&nbsp;读入下一行形成multiline&nbsp;pattern，用于跨行处理<br>+&nbsp;p：[address[,address]]p&nbsp;打印出pattern&nbsp;space中的内容<br>+&nbsp;P：[address[,address]]P&nbsp;打印出multiline&nbsp;pattern&nbsp;space中的第一行<br>+&nbsp;q：[address]q&nbsp;碰到address行时退出sed&nbsp;script<br>+&nbsp;r：[address]r&nbsp;<span style="color:#ff9d00;font-weight:700">file</span>&nbsp;将文件file的内容append到pattern&nbsp;space后<br>+&nbsp;s：[address[,address]]s<span style="color:#ff9d00;font-weight:700">/</span>pattern<span style="color:#ff9d00;font-weight:700">/</span>replace<span style="color:#ff9d00;font-weight:700">/</span>[flag]&nbsp;将pattern替换成replace.flag<span style="color:#ff9d00;font-weight:700">:</span><br>+&nbsp;n：替换第n个出现的pattern,默认是第一个出现的pattern<br>+&nbsp;g：全部替换pattern<br>+&nbsp;p：如果替换成功则打印<br>+&nbsp;<span style="color:#ff9d00;font-weight:700">w</span>&nbsp;<span style="color:#ff9d00;font-weight:700">file</span>：将替换的行写入到文件里<br>+&nbsp;t：[address[,address]]t&nbsp;[label]&nbsp;如果替换成功则跳转<br>+&nbsp;<span style="color:#ff9d00;font-weight:700">w</span>：[address[,address]]<span style="color:#ff9d00;font-weight:700">w</span>&nbsp;<span style="color:#ff9d00;font-weight:700">file</span>&nbsp;将pattern中的内容追加写到file文件<br>+&nbsp;x：[address[,address]]x&nbsp;交换hold&nbsp;space和pattern&nbsp;space的内容<br>+&nbsp;y：[address1[,address2]]y<span style="color:#ff9d00;font-weight:700">/</span>abc<span style="color:#ff9d00;font-weight:700">/</span>xyz<span style="color:#ff9d00;font-weight:700">/</span>&nbsp;将abc转换为对应的xyz<br><br><br><span style="color:#ff9d00;font-weight:700">sed</span>&nbsp;-n&nbsp;<span style="color:#3ad900;font-weight:400">'/([0-9]{1,3}.){3}[0-9]{1,3}/p'</span>&nbsp;IP.txt&nbsp;<span style="color:#0088ff;font-weight:400">#查找IP</span><br><span style="color:#ff9d00;font-weight:700">sed</span>&nbsp;-i&nbsp;<span style="color:#3ad900;font-weight:400">"s#([0-9]{1,3}.){3}[0-9]{1,3}:([0-9]){1,4}#${IPPORT}#g"</span>&nbsp;<span style="color:#3ad900;font-weight:400">"$FILE"</span><br><br><span style="color:#ff9d00;font-weight:700">sed</span>&nbsp;-e&nbsp;<span style="color:#3ad900;font-weight:400">"/^[A-Za-z_][A-Za-z0-9_]*&nbsp;[A-Za-z_][A-Za-z0-9_]*::[A-Za-z_][A-Za-z0-9_]*(/="</span>&nbsp;tttt&nbsp;<span style="color:#0088ff;font-weight:400">#在tttt中查找类似UINT32&nbsp;MyClass::setMyClass所在的行号</span><br><br><span style="color:#ff9d00;font-weight:700">sed</span>&nbsp;-e&nbsp;<span style="color:#3ad900;font-weight:400">':K;N;s/\n/&nbsp;/;bK'</span>&nbsp;t&nbsp;<span style="color:#0088ff;font-weight:400">#合并所有行，使用的label</span><br><span style="color:#ff9d00;font-weight:700">sed</span>&nbsp;-e&nbsp;<span style="color:#3ad900;font-weight:400">'N;s/n/&nbsp;/g'</span>&nbsp;t&nbsp;<span style="color:#0088ff;font-weight:400">#合并两行,多行类似</span><br><br><span style="color:#ff9d00;font-weight:700">sed</span>&nbsp;-e&nbsp;<span style="color:#3ad900;font-weight:400">'3{h;d};&nbsp;5{G}'</span>&nbsp;t&nbsp;<span style="color:#0088ff;font-weight:400">#交换3，5行，&nbsp;h,d,G</span><br><br><span style="color:#ff9d00;font-weight:700">sed</span>&nbsp;&nbsp;-e&nbsp;<span style="color:#3ad900;font-weight:400">'2~2!d'</span>&nbsp;t&nbsp;<span style="color:#0088ff;font-weight:400">#保留偶数行</span><br><br><span style="color:#ff9d00;font-weight:700">sed</span>&nbsp;-e&nbsp;<span style="color:#3ad900;font-weight:400">'1!G;h;$!d'</span>&nbsp;t&nbsp;<span style="color:#0088ff;font-weight:400">#倒置所有的行</span><br><br><span style="color:#ff9d00;font-weight:700">sed</span>&nbsp;-n&nbsp;<span style="color:#3ad900;font-weight:400">'1!G;h;$p'</span>&nbsp;t&nbsp;<span style="color:#0088ff;font-weight:400">#倒置所有的行</span><br><br><span style="color:#ff9d00;font-weight:700">sed</span>&nbsp;&nbsp;-e&nbsp;<span style="color:#3ad900;font-weight:400">':a;$q;N;11,$D;ba'</span>&nbsp;t&nbsp;<span style="color:#0088ff;font-weight:400">#只显示最后的10</span><br><br><span style="color:#ff9d00;font-weight:700">sed</span>&nbsp;-e&nbsp;<span style="color:#3ad900;font-weight:400">'s/\s*//g'</span>&nbsp;<span style="color:#0088ff;font-weight:400">#去掉空格</span><br><span style="color:#0088ff;font-weight:400">#&nbsp;sed:合并行，交换行&nbsp;&nbsp;</span><br>http<span style="color:#ff9d00;font-weight:700">://</span>yjever.blog.163.com<span style="color:#ff9d00;font-weight:700">/</span>blog<span style="color:#ff9d00;font-weight:700">/</span>static<span style="color:#ff9d00;font-weight:700">/</span>28335550201011250559729<span style="color:#ff9d00;font-weight:700">/</span></span></td></tr></table></body></html>